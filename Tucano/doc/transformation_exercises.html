<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tucano: Transformation Exercises</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tucano.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tucano
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A library for rapid prototyping with modern OpenGL and GLSL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('transformation_exercises.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Transformation Exercises </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>For these first exercises you will be working only with the widget class and the transformation matrices. If you haven't done so far, read the <a class="el" href="eigen.html">Eigen Primer</a>.</p>
<p>First, some words on how transformations are handled within <a class="el" href="namespaceTucano.html">Tucano</a>.</p>
<h2>Models</h2>
<p>Models are 3D triangular meshes. Apart from the geometry, the mesh also contains information about its location and orientation in the 3D virtual world. These transformation are stored in the so called <b>ModelMatrix</b>. In <a class="el" href="namespaceTucano.html">Tucano</a> there is one extra matrix for the meshes, called the <b>ShapeMatrix</b>.</p>
<ul>
<li>the <b>ShapeMatrix</b> stores initial transformations such as normalization and scaling for the meshes. The idea, is that it defines the actual shape of the object, and not its location. So if you reset its location and orientation the shape remains the same.</li>
<li>The <b>ModelMatrix</b> then stores the actual location and orientation in the 3D world.</li>
</ul>
<p>For the exercises, you will be working only with the <b>Model</b> matrix. Its type is an <em>Eigen::Affine3f</em> matrix.</p>
<p>To retrieve a <b>copy</b> of the Model matrix of a mesh:</p>
<div class="fragment"><div class="line">Eigen::Affine3f modelmatrix = mesh.getModelMatrix();</div></div><!-- fragment --><p>Then you can do any type of operation, such as translating it:</p>
<div class="fragment"><div class="line">modelmatrix.translate (Eigen::Vector3f(1.0, 0.5, -2.0));</div></div><!-- fragment --><p>When you are done with your transformations, write back the final matrix to the mesh:</p>
<div class="fragment"><div class="line">mesh.setModelMatrix(modelmatrix);</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>Note</b>: due to some design options, <a class="el" href="namespaceTucano.html">Tucano</a> does not return the matrix by reference, you are getting a copy of the matrix. That is why you have to set the model matrix when you finish your transformations. There is an alternative way, however, which is to retrieve a pointer to the matrix. In this way you can perform the transformation in a single line as shown below. But this is <b>optional</b>, if you are not comfortable with pointers ignore this and use the <b>set</b> and <b>get</b> methods: </p>
</blockquote>
<div class="fragment"><div class="line">mesh.modelMatrix()-&gt;translate (Eigen::Vector3f(1.0, 0.5, -2.0));</div></div><!-- fragment --><h2>Camera</h2>
<p>The camera matrix defines your point of view, from where you are looking at your scene. The <b>Camera</b> class contains a <b>View</b> matrix that defines the camera orientation and location, and a <b>Projection</b> matrix that defines the internal parameters of your camera. Here we will use only the <b>View</b> matrix, and it works very similarly as the <b>Model</b> matrix of the mesh. The get/set methods are:</p>
<div class="fragment"><div class="line">Eigen::Affine3f viewmatrix = camera.getViewMatrix();</div><div class="line">// do some operation with the view matrix</div><div class="line">camera.setViewMatrix(viewmatrix);</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>Note</b>: again, the alternative way using pointers may be used, for example: </p>
</blockquote>
<div class="fragment"><div class="line">camera.viewMatrix()-&gt;translate (Eigen::Vector3f(1.0, 0.5, -2.0));</div></div><!-- fragment --><h1>Exercises</h1>
<p>This is actually all you have to know to complete the transformation exercises. For exercises 1-5, when you run the program after completing the code inside each exercise a screenshot of your solution will be saved as aPPM files in your directory. If any exercise is left blank, then you will see the image of the bunny without any transformations applied (in its original position). You will also find a <b>exercise0.ppm</b> showing the Bunny in its initial position as shown below:</p>
<blockquote class="doxtable">
<div class="image">
<img src="transformations-intial.png" alt="transformations-intial.png"/>
<div class="caption">
Bunny in original location and orientation</div></div>
</blockquote>
<blockquote class="doxtable">
<p><b>Note</b>: the bunny looks very flat for now, we are just coloring every triangle with the same color. But don't worry! We will get more impressive results after the <b>Shading</b> lecture and assignment! </p>
</blockquote>
<p>In Exercise 6 your method will be called for every frame, so your model should appear rotating on the screen once you complete the method. Screenshots are not saved for this exercise.</p>
<p>The transformations of the exercises are not accumulative. That is, each one will produce a result ignoring the transformations of the other exercises.</p>
<p>There are some questions after the solutions below. Make sure you do not only get the correct result, but you can answer them!</p>
<blockquote class="doxtable">
<p><b>Note</b>: apart from the images below, in the folder <em>solutions</em> you will also find same images with the correct answers for the exercises so you can compare with your solutions. For exercise 6 there is a small video showing the correct result. </p>
</blockquote>
<p><br />
<br />
 </p><hr/>
<h2>Exercise 1 - rotation</h2>
<p>Using the set/get methods of the <b>Model</b> matrix of the mesh, rotate it by 90 degrees around the Z axis.</p>
<blockquote class="doxtable">
<p><b>Note</b>: if you want, use the pointer based method, but remember, this is <b>optional!</b> </p>
</blockquote>
<blockquote class="doxtable">
<div class="image">
<img src="transformations-exercise1.png" alt="transformations-exercise1.png"/>
<div class="caption">
Solution exercise 1</div></div>
</blockquote>
<p><br />
<br />
 </p><hr/>
<h2>Exercise 2 - translation</h2>
<p>Translate the Bunny by 0.5 unit along the X axis.</p>
<blockquote class="doxtable">
<div class="image">
<img src="transformations-exercise2.png" alt="transformations-exercise2.png"/>
<div class="caption">
Solution exercise 2</div></div>
</blockquote>
<p><br />
<br />
 </p><hr/>
<h2>Exercise 3 - translation and rotation</h2>
<p>First translate the model by 0.5 unit along the x axis., then rotate the model by 90 degrees.</p>
<blockquote class="doxtable">
<div class="image">
<img src="transformations-exercise3.png" alt="transformations-exercise3.png"/>
<div class="caption">
Solution exercise 3</div></div>
</blockquote>
<blockquote class="doxtable">
<p><b>Note</b>: does the order of the operations in your code make sense to you? </p>
</blockquote>
<p><br />
<br />
 </p><hr/>
<h2>Exercise 4 - rotation and translation</h2>
<p>Repeat exercise 3 switching the order. First rotate and then translate.</p>
<blockquote class="doxtable">
<div class="image">
<img src="transformations-exercise4.png" alt="transformations-exercise4.png"/>
<div class="caption">
Solution exercise 4</div></div>
</blockquote>
<blockquote class="doxtable">
<p><b>Note</b>: Do you see the difference from exercise 3? Can you explain the difference? </p>
</blockquote>
<h2>Exercise 5 - view matrix</h2>
<p>Repeat exercise 3, but instead of using the <b>Model</b> matrix of the <b>mesh</b>, apply the transformations on the <b>View</b> matrix of the <b>camera</b>.</p>
<blockquote class="doxtable">
<div class="image">
<img src="transformations-exercise5.png" alt="transformations-exercise5.png"/>
<div class="caption">
Solution exercise 5</div></div>
</blockquote>
<blockquote class="doxtable">
<p><b>Note</b>: What happened? Can you explain the result? Did you expect something different? </p>
</blockquote>
<p><br />
 </p><hr/>
<h2>Next step</h2>
<p>Complete the <a class="el" href="pipeline_exercises.html">GPU Pipeline Exercises</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 26 2019 12:40:28 for Tucano by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
